{"ast":null,"code":"var _jsxFileName = \"/home/komal/Documents/Backup/FrontEnd/peoplelens_ui/src/components/organisms/Nudges/index.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable @typescript-eslint/no-unsafe-call */\n\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\n\n/* eslint-disable react/react-in-jsx-scope */\n\n/* eslint-disable prettier/prettier */\nimport { Chip, Dialog, DialogContent, Grid, makeStyles, Typography } from '@material-ui/core';\nimport NotificationsOutlinedIcon from '@material-ui/icons/NotificationsOutlined';\nimport { addYears } from 'date-fns';\nimport { useEffect, useState } from 'react';\nimport NoNotification from '../../../assets/thinline-silentnotif.png';\nimport { useGlobalStyles } from '../../../plStyles';\nimport { plTheme } from '../../../plTheme';\nimport { useWindowSize } from '../../../utils/hooks/useWindowSize';\nimport { _t_ } from '../../../utils/translation/translation';\nimport WidgetCard from '../../atoms/WidgetCard';\nimport OutcomeTracker from '../OutcomeTracker';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Nudges = () => {\n  _s();\n\n  const [nudges, setNudges] = useState([]);\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const getNudges = async () => {\n    const fetchResponse = await fetch(`${process.env.REACT_APP_API_BASE || ''}/api/getActiveNotifications`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        tenantId: localStorage.getItem('tenantId'),\n        userId: localStorage.getItem('userId')\n      })\n    });\n    const jsonData = await fetchResponse.json();\n    jsonData.forEach(element => {\n      const date = new Date('2021-12-31');\n      date > new Date(element.actionCompleteDate) ? element.status = 'Done' : element.status = 'In Progress'; // element.actionCompleteDate = addYears(\n      //   new Date(element.actionCompleteDate),\n      //   -1,\n      // ); //To be removed\n\n      element.createdDate = addYears(new Date(element.createdDate), -2); // To be removed\n\n      element.status = 'In Progress';\n    });\n    setNudges(jsonData);\n  };\n\n  useEffect(() => {\n    void getNudges();\n  }, []);\n  const useStyles = makeStyles({\n    dialog: {\n      position: 'absolute',\n      // width: 700,\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n      width: '100%',\n      height: 700,\n      backgroundColor: 'rgba(246, 246, 246, 1)'\n    },\n    root: {\n      height: 330,\n      padding: 16,\n      overflowY: 'scroll',\n      flexDirection: nudges.length > 3 ? 'row' : 'column',\n      '&::-webkit-scrollbar': {\n        width: 6,\n        borderRadius: 10,\n        marginRight: '10px'\n      },\n      '&::-webkit-scrollbar-track': {\n        borderRadius: '10px'\n      },\n      '&::-webkit-scrollbar-thumb': {\n        minHeight: 40,\n        backgroundColor: '#CFD6DE',\n        borderRadius: '10px'\n      }\n    },\n    agendaDiv: {\n      marginTop: '0.05em'\n    },\n    coachingDiv: {\n      marginTop: '0.5rem'\n    },\n    text: {\n      fontFamily: 'Rubik',\n      fontSize: 14,\n      fontWeight: 300,\n      letterSpacing: '0em',\n      lineHeight: '20px'\n    },\n    heading: {\n      fontFamily: 'Rubik',\n      fontSize: 16,\n      fontWeight: 500\n    },\n    nudges: {\n      backgroundColor: '#D7DFE9',\n      border: '1px solid #171F46',\n      color: 'black',\n      fontFamily: plTheme.typography.subtitle1.fontFamily,\n      fontSize: 13,\n      fontWeight: 400,\n      width: '100%',\n      height: 29\n    }\n  });\n  const globalClasses = useGlobalStyles();\n  const classes = useStyles();\n  const names = [{\n    key: 'Not Started',\n    label: 'Not Started'\n  }, {\n    key: 'In Progress',\n    label: 'In Progress'\n  }, {\n    key: 'Done',\n    label: 'Done'\n  }];\n  const [width] = useWindowSize();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [' ', /*#__PURE__*/_jsxDEV(WidgetCard, {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: \"column\",\n        className: classes.root,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            width: '100%'\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            direction: \"row\",\n            spacing: 0,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              style: {\n                flex: 67\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                className: globalClasses.body1WidgetTitle,\n                children: _t_('my NUDGES')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              style: {\n                flex: 32\n              },\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                label: nudges.length + ' nudges',\n                icon: /*#__PURE__*/_jsxDEV(NotificationsOutlinedIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 25\n                }, this),\n                className: classes.nudges,\n                color: \"default\",\n                style: {\n                  backgroundColor: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), nudges.length == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          style: {\n            width: 529,\n            height: 250,\n            padding: 0,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            \"data-testid\": \"salesclosedimg\",\n            src: NoNotification,\n            style: {\n              height: 70,\n              width: 70,\n              marginTop: 45\n            },\n            alt: \"pointer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontFamily: 'Rubik',\n                fontSize: 18,\n                fontWeight: 500\n              },\n              children: \"No Notifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontFamily: 'Rubik',\n                fontWeight: 300,\n                fontSize: 12,\n                lineHeight: '24px'\n              },\n              children: \"Nudges from your manager will show up here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            style: {\n              width: '100%',\n              paddingTop: '2%'\n            },\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"row\",\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                style: {\n                  flex: width > 1500 ? 44 : 41.5\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  className: classes.heading,\n                  children: _t_('Activity')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                style: {\n                  flex: width > 1500 ? 25 : 26.5,\n                  textAlign: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  className: classes.heading,\n                  align: \"left\",\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: _t_('Nudge date')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                style: {\n                  flex: 40\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            style: {\n              width: '100%'\n            },\n            children: nudges && nudges.map((element, index) => /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"row\",\n              style: {\n                paddingTop: '5%'\n              },\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                style: {\n                  flex: 44,\n                  paddingTop: '2.8%',\n                  paddingRight: '2%'\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  className: classes.text,\n                  children: [index + 1, \". \", _t_(element.action)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                style: {\n                  flex: 25,\n                  paddingTop: '2.8%',\n                  textAlign: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  className: classes.text,\n                  children: new Date(element.createdDate).toDateString().slice(4)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                style: {\n                  flex: 40,\n                  textAlign: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(Chip, {\n                  label: element.status,\n                  className: classes.nudges,\n                  color: \"default\",\n                  style: {\n                    width: '102px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            style: {\n              marginTop: 'auto'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              style: {\n                cursor: 'pointer',\n                color: '#0055DC'\n              },\n              onClick: handleClickOpen,\n              children: [\"See More \", '>>']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      classes: {\n        paper: classes.dialog\n      },\n      open: open,\n      onClose: handleClose,\n      fullWidth: true,\n      style: {\n        height: '100%',\n        justifyContent: 'center',\n        alignItems: 'center',\n        overflow: 'hidden',\n        alignContent: 'center'\n      },\n      maxWidth: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        style: {\n          paddingTop: 0,\n          overflow: 'hidden'\n        },\n        children: /*#__PURE__*/_jsxDEV(OutcomeTracker, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Nudges, \"LETQEpE3VO1Yfl6/ZnAQVpQ4+Go=\", true, function () {\n  return [useGlobalStyles, useWindowSize];\n});\n\n_c = Nudges;\nexport default Nudges;\n\nvar _c;\n\n$RefreshReg$(_c, \"Nudges\");","map":{"version":3,"sources":["/home/komal/Documents/Backup/FrontEnd/peoplelens_ui/src/components/organisms/Nudges/index.tsx"],"names":["Chip","Dialog","DialogContent","Grid","makeStyles","Typography","NotificationsOutlinedIcon","addYears","useEffect","useState","NoNotification","useGlobalStyles","plTheme","useWindowSize","_t_","WidgetCard","OutcomeTracker","Nudges","nudges","setNudges","open","setOpen","handleClickOpen","handleClose","getNudges","fetchResponse","fetch","process","env","REACT_APP_API_BASE","method","headers","body","JSON","stringify","tenantId","localStorage","getItem","userId","jsonData","json","forEach","element","date","Date","actionCompleteDate","status","createdDate","useStyles","dialog","position","top","left","transform","width","height","backgroundColor","root","padding","overflowY","flexDirection","length","borderRadius","marginRight","minHeight","agendaDiv","marginTop","coachingDiv","text","fontFamily","fontSize","fontWeight","letterSpacing","lineHeight","heading","border","color","typography","subtitle1","globalClasses","classes","names","key","label","flex","body1WidgetTitle","textAlign","paddingTop","map","index","paddingRight","action","toDateString","slice","cursor","paper","justifyContent","alignItems","overflow","alignContent"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-unsafe-call */\r\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\r\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\r\n/* eslint-disable react/react-in-jsx-scope */\r\n/* eslint-disable prettier/prettier */\r\nimport {\r\n  Chip,\r\n  Dialog,\r\n  DialogContent,\r\n  Grid,\r\n  makeStyles,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport NotificationsOutlinedIcon from '@material-ui/icons/NotificationsOutlined';\r\nimport { addYears } from 'date-fns';\r\nimport { useEffect, useState } from 'react';\r\nimport NoNotification from '../../../assets/thinline-silentnotif.png';\r\nimport { useGlobalStyles } from '../../../plStyles';\r\nimport { plTheme } from '../../../plTheme';\r\nimport { useWindowSize } from '../../../utils/hooks/useWindowSize';\r\nimport { _t_ } from '../../../utils/translation/translation';\r\nimport WidgetCard from '../../atoms/WidgetCard';\r\nimport OutcomeTracker from '../OutcomeTracker';\r\n\r\nconst Nudges = () => {\r\n  const [nudges, setNudges] = useState<[]>([]);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const getNudges = async () => {\r\n    const fetchResponse = await fetch(\r\n      `${process.env.REACT_APP_API_BASE || ''}/api/getActiveNotifications`,\r\n      {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          tenantId: localStorage.getItem('tenantId'),\r\n          userId: localStorage.getItem('userId'),\r\n        }),\r\n      },\r\n    );\r\n    const jsonData = await fetchResponse.json();\r\n    jsonData.forEach((element: any) => {\r\n      const date = new Date('2021-12-31');\r\n      date > new Date(element.actionCompleteDate)\r\n        ? (element.status = 'Done')\r\n        : (element.status = 'In Progress');\r\n      // element.actionCompleteDate = addYears(\r\n      //   new Date(element.actionCompleteDate),\r\n      //   -1,\r\n      // ); //To be removed\r\n      element.createdDate = addYears(new Date(element.createdDate), -2); // To be removed\r\n      element.status = 'In Progress';\r\n    });\r\n    setNudges(jsonData);\r\n  };\r\n\r\n  useEffect(() => {\r\n    void getNudges();\r\n  }, []);\r\n\r\n  const useStyles = makeStyles({\r\n    dialog: {\r\n      position: 'absolute',\r\n      // width: 700,\r\n      top: '50%',\r\n      left: '50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      width: '100%',\r\n      height: 700,\r\n      backgroundColor: 'rgba(246, 246, 246, 1)',\r\n    },\r\n    root: {\r\n      height: 330,\r\n      padding: 16,\r\n      overflowY: 'scroll',\r\n      flexDirection: nudges.length > 3 ? 'row' : 'column',\r\n      '&::-webkit-scrollbar': {\r\n        width: 6,\r\n        borderRadius: 10,\r\n        marginRight: '10px',\r\n      },\r\n      '&::-webkit-scrollbar-track': {\r\n        borderRadius: '10px',\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        minHeight: 40,\r\n        backgroundColor: '#CFD6DE',\r\n        borderRadius: '10px',\r\n      },\r\n    },\r\n    agendaDiv: {\r\n      marginTop: '0.05em',\r\n    },\r\n    coachingDiv: {\r\n      marginTop: '0.5rem',\r\n    },\r\n    text: {\r\n      fontFamily: 'Rubik',\r\n      fontSize: 14,\r\n      fontWeight: 300,\r\n      letterSpacing: '0em',\r\n      lineHeight: '20px',\r\n    },\r\n    heading: {\r\n      fontFamily: 'Rubik',\r\n      fontSize: 16,\r\n      fontWeight: 500,\r\n    },\r\n    nudges: {\r\n      backgroundColor: '#D7DFE9',\r\n      border: '1px solid #171F46',\r\n      color: 'black',\r\n      fontFamily: plTheme.typography.subtitle1.fontFamily,\r\n      fontSize: 13,\r\n      fontWeight: 400,\r\n      width: '100%',\r\n      height: 29,\r\n    },\r\n  });\r\n  const globalClasses = useGlobalStyles();\r\n  const classes = useStyles();\r\n  const names = [\r\n    { key: 'Not Started', label: 'Not Started' },\r\n    { key: 'In Progress', label: 'In Progress' },\r\n    { key: 'Done', label: 'Done' },\r\n  ];\r\n\r\n  const [width] = useWindowSize();\r\n  return (\r\n    <>\r\n      {' '}\r\n      <WidgetCard>\r\n        <Grid container direction=\"column\" className={classes.root}>\r\n          <Grid item style={{ width: '100%' }}>\r\n            <Grid container direction=\"row\" spacing={0}>\r\n              <Grid item style={{ flex: 67 }}>\r\n                <Typography className={globalClasses.body1WidgetTitle}>\r\n                  {_t_('my NUDGES')}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item style={{ flex: 32 }}>\r\n                <Chip\r\n                  label={nudges.length + ' nudges'}\r\n                  icon={<NotificationsOutlinedIcon />}\r\n                  className={classes.nudges}\r\n                  color=\"default\"\r\n                  style={{ backgroundColor: 'white' }}\r\n                ></Chip>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          {nudges.length == 0 ? (\r\n            <div\r\n              className=\"content\"\r\n              style={{\r\n                width: 529,\r\n                height: 250,\r\n                padding: 0,\r\n                textAlign: 'center',\r\n              }}\r\n            >\r\n              <img\r\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\r\n                data-testid=\"salesclosedimg\"\r\n                src={NoNotification}\r\n                style={{ height: 70, width: 70, marginTop: 45 }}\r\n                alt=\"pointer\"\r\n              />\r\n              <div>\r\n                <p\r\n                  style={{\r\n                    fontFamily: 'Rubik',\r\n                    fontSize: 18,\r\n                    fontWeight: 500,\r\n                  }}\r\n                >\r\n                  No Notifications\r\n                </p>\r\n                <p\r\n                  style={{\r\n                    fontFamily: 'Rubik',\r\n                    fontWeight: 300,\r\n                    fontSize: 12,\r\n                    lineHeight: '24px',\r\n                  }}\r\n                >\r\n                  Nudges from your manager will show up here\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <Grid item style={{ width: '100%', paddingTop: '2%' }}>\r\n                <Grid container direction=\"row\" spacing={3}>\r\n                  <Grid item style={{ flex: width > 1500 ? 44 : 41.5 }}>\r\n                    <Typography className={classes.heading}>\r\n                      {_t_('Activity')}\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid\r\n                    item\r\n                    style={{\r\n                      flex: width > 1500 ? 25 : 26.5,\r\n                      textAlign: 'center',\r\n                    }}\r\n                  >\r\n                    <Typography\r\n                      className={classes.heading}\r\n                      align=\"left\"\r\n                      style={{ textAlign: 'center' }}\r\n                    >\r\n                      {_t_('Nudge date')}\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item style={{ flex: 40 }}>\r\n                    <Typography></Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item style={{ width: '100%' }}>\r\n                {nudges &&\r\n                  nudges.map((element: any, index) => (\r\n                    <Grid\r\n                      container\r\n                      direction=\"row\"\r\n                      key={index}\r\n                      style={{ paddingTop: '5%' }}\r\n                      spacing={3}\r\n                    >\r\n                      <Grid\r\n                        item\r\n                        style={{\r\n                          flex: 44,\r\n                          paddingTop: '2.8%',\r\n                          paddingRight: '2%',\r\n                        }}\r\n                      >\r\n                        <Typography className={classes.text}>\r\n                          {index + 1}. {_t_(element.action)}\r\n                        </Typography>\r\n                      </Grid>\r\n                      <Grid\r\n                        item\r\n                        style={{\r\n                          flex: 25,\r\n                          paddingTop: '2.8%',\r\n                          textAlign: 'center',\r\n                        }}\r\n                      >\r\n                        <Typography className={classes.text}>\r\n                          {new Date(element.createdDate)\r\n                            .toDateString()\r\n                            .slice(4)}\r\n                        </Typography>\r\n                      </Grid>\r\n                      <Grid item style={{ flex: 40, textAlign: 'center' }}>\r\n                        {/* {element.status} */}\r\n                        <Chip\r\n                          label={element.status}\r\n                          className={classes.nudges}\r\n                          color=\"default\"\r\n                          style={{ width: '102px' }}\r\n                        ></Chip>\r\n                      </Grid>\r\n                    </Grid>\r\n                  ))}\r\n              </Grid>\r\n              <Grid item style={{ marginTop: 'auto' }}>\r\n                <a\r\n                  style={{ cursor: 'pointer', color: '#0055DC' }}\r\n                  onClick={handleClickOpen}\r\n                >\r\n                  See More {'>>'}\r\n                </a>\r\n              </Grid>\r\n            </>\r\n          )}\r\n        </Grid>\r\n      </WidgetCard>\r\n      <Dialog\r\n        classes={{\r\n          paper: classes.dialog,\r\n        }}\r\n        open={open}\r\n        onClose={handleClose}\r\n        fullWidth\r\n        style={{\r\n          height: '100%',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          overflow: 'hidden',\r\n          alignContent: 'center',\r\n        }}\r\n        maxWidth=\"lg\"\r\n      >\r\n        <DialogContent style={{ paddingTop: 0, overflow: 'hidden' }}>\r\n          <OutcomeTracker />\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Nudges;\r\n"]},"metadata":{},"sourceType":"module"}