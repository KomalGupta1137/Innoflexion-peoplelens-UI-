{"ast":null,"code":"/*\n Highcharts JS v9.0.1 (2021-02-15)\n\n Sankey diagram module\n\n (c) 2010-2021 Torstein Honsi\n\n License: www.highcharts.com/license\n*/\n(function (d) {\n  \"object\" === typeof module && module.exports ? (d[\"default\"] = d, module.exports = d) : \"function\" === typeof define && define.amd ? define(\"highcharts/modules/sankey\", [\"highcharts\"], function (r) {\n    d(r);\n    d.Highcharts = r;\n    return d;\n  }) : d(\"undefined\" !== typeof Highcharts ? Highcharts : void 0);\n})(function (d) {\n  function r(d, g, k, l) {\n    d.hasOwnProperty(g) || (d[g] = l.apply(null, k));\n  }\n\n  d = d ? d._modules : {};\n  r(d, \"Mixins/Nodes.js\", [d[\"Core/Globals.js\"], d[\"Core/Series/Point.js\"], d[\"Core/Series/Series.js\"], d[\"Core/Utilities.js\"]], function (d, g, k, l) {\n    var p = l.defined,\n        h = l.extend,\n        f = l.find,\n        n = l.pick;\n    return d.NodesMixin = {\n      createNode: function (c) {\n        function b(a, b) {\n          return f(a, function (a) {\n            return a.id === b;\n          });\n        }\n\n        var a = b(this.nodes, c),\n            d = this.pointClass;\n\n        if (!a) {\n          var k = this.options.nodes && b(this.options.nodes, c);\n          a = new d().init(this, h({\n            className: \"highcharts-node\",\n            isNode: !0,\n            id: c,\n            y: 1\n          }, k));\n          a.linksTo = [];\n          a.linksFrom = [];\n          a.formatPrefix = \"node\";\n          a.name = a.name || a.options.id || \"\";\n          a.mass = n(a.options.mass, a.options.marker && a.options.marker.radius, this.options.marker && this.options.marker.radius, 4);\n\n          a.getSum = function () {\n            var b = 0,\n                c = 0;\n            a.linksTo.forEach(function (a) {\n              b += a.weight;\n            });\n            a.linksFrom.forEach(function (a) {\n              c += a.weight;\n            });\n            return Math.max(b, c);\n          };\n\n          a.offset = function (b, c) {\n            for (var d = 0, f = 0; f < a[c].length; f++) {\n              if (a[c][f] === b) return d;\n              d += a[c][f].weight;\n            }\n          };\n\n          a.hasShape = function () {\n            var b = 0;\n            a.linksTo.forEach(function (a) {\n              a.outgoing && b++;\n            });\n            return !a.linksTo.length || b !== a.linksTo.length;\n          };\n\n          this.nodes.push(a);\n        }\n\n        return a;\n      },\n      generatePoints: function () {\n        var c = this.chart,\n            b = {};\n        k.prototype.generatePoints.call(this);\n        this.nodes || (this.nodes = []);\n        this.colorCounter = 0;\n        this.nodes.forEach(function (a) {\n          a.linksFrom.length = 0;\n          a.linksTo.length = 0;\n          a.level = a.options.level;\n        });\n        this.points.forEach(function (a) {\n          p(a.from) && (b[a.from] || (b[a.from] = this.createNode(a.from)), b[a.from].linksFrom.push(a), a.fromNode = b[a.from], c.styledMode ? a.colorIndex = n(a.options.colorIndex, b[a.from].colorIndex) : a.color = a.options.color || b[a.from].color);\n          p(a.to) && (b[a.to] || (b[a.to] = this.createNode(a.to)), b[a.to].linksTo.push(a), a.toNode = b[a.to]);\n          a.name = a.name || a.id;\n        }, this);\n        this.nodeLookup = b;\n      },\n      setData: function () {\n        this.nodes && (this.nodes.forEach(function (c) {\n          c.destroy();\n        }), this.nodes.length = 0);\n        k.prototype.setData.apply(this, arguments);\n      },\n      destroy: function () {\n        this.data = [].concat(this.points || [], this.nodes);\n        return k.prototype.destroy.apply(this, arguments);\n      },\n      setNodeState: function (c) {\n        var b = arguments,\n            a = this.isNode ? this.linksTo.concat(this.linksFrom) : [this.fromNode, this.toNode];\n        \"select\" !== c && a.forEach(function (a) {\n          a && a.series && (g.prototype.setState.apply(a, b), a.isNode || (a.fromNode.graphic && g.prototype.setState.apply(a.fromNode, b), a.toNode && a.toNode.graphic && g.prototype.setState.apply(a.toNode, b)));\n        });\n        g.prototype.setState.apply(this, b);\n      }\n    };\n  });\n  r(d, \"Series/Sankey/SankeyPoint.js\", [d[\"Mixins/Nodes.js\"], d[\"Core/Series/Point.js\"], d[\"Core/Series/SeriesRegistry.js\"], d[\"Core/Utilities.js\"]], function (d, g, k, l) {\n    var p = this && this.__extends || function () {\n      var d = function (f, c) {\n        d = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (b, a) {\n          b.__proto__ = a;\n        } || function (b, a) {\n          for (var c in a) a.hasOwnProperty(c) && (b[c] = a[c]);\n        };\n\n        return d(f, c);\n      };\n\n      return function (f, c) {\n        function b() {\n          this.constructor = f;\n        }\n\n        d(f, c);\n        f.prototype = null === c ? Object.create(c) : (b.prototype = c.prototype, new b());\n      };\n    }(),\n        h = l.defined;\n\n    l = l.extend;\n\n    k = function (d) {\n      function f() {\n        var c = null !== d && d.apply(this, arguments) || this;\n        c.className = void 0;\n        c.fromNode = void 0;\n        c.level = void 0;\n        c.linkBase = void 0;\n        c.linksFrom = void 0;\n        c.linksTo = void 0;\n        c.mass = void 0;\n        c.nodeX = void 0;\n        c.nodeY = void 0;\n        c.options = void 0;\n        c.series = void 0;\n        c.toNode = void 0;\n        return c;\n      }\n\n      p(f, d);\n\n      f.prototype.applyOptions = function (c, b) {\n        g.prototype.applyOptions.call(this, c, b);\n        h(this.options.level) && (this.options.column = this.column = this.options.level);\n        return this;\n      };\n\n      f.prototype.getClassName = function () {\n        return (this.isNode ? \"highcharts-node \" : \"highcharts-link \") + g.prototype.getClassName.call(this);\n      };\n\n      f.prototype.isValid = function () {\n        return this.isNode || \"number\" === typeof this.weight;\n      };\n\n      return f;\n    }(k.seriesTypes.column.prototype.pointClass);\n\n    l(k.prototype, {\n      setState: d.setNodeState\n    });\n    return k;\n  });\n  r(d, \"Mixins/TreeSeries.js\", [d[\"Core/Color/Color.js\"], d[\"Core/Utilities.js\"]], function (d, g) {\n    var k = g.extend,\n        l = g.isArray,\n        p = g.isNumber,\n        h = g.isObject,\n        f = g.merge,\n        n = g.pick;\n    return {\n      getColor: function (c, b) {\n        var a = b.index,\n            f = b.mapOptionsToLevel,\n            k = b.parentColor,\n            g = b.parentColorIndex,\n            h = b.series,\n            q = b.colors,\n            l = b.siblings,\n            m = h.points,\n            w = h.chart.options.chart,\n            t;\n\n        if (c) {\n          m = m[c.i];\n          c = f[c.level] || {};\n\n          if (f = m && c.colorByPoint) {\n            var e = m.index % (q ? q.length : w.colorCount);\n            var u = q && q[e];\n          }\n\n          if (!h.chart.styledMode) {\n            q = m && m.options.color;\n            w = c && c.color;\n            if (t = k) t = (t = c && c.colorVariation) && \"brightness\" === t.key ? d.parse(k).brighten(a / l * t.to).get() : k;\n            t = n(q, w, u, t, h.color);\n          }\n\n          var y = n(m && m.options.colorIndex, c && c.colorIndex, e, g, b.colorIndex);\n        }\n\n        return {\n          color: t,\n          colorIndex: y\n        };\n      },\n      getLevelOptions: function (c) {\n        var b = null;\n\n        if (h(c)) {\n          b = {};\n          var a = p(c.from) ? c.from : 1;\n          var d = c.levels;\n          var g = {};\n          var n = h(c.defaults) ? c.defaults : {};\n          l(d) && (g = d.reduce(function (b, c) {\n            if (h(c) && p(c.level)) {\n              var d = f({}, c);\n              var g = \"boolean\" === typeof d.levelIsConstant ? d.levelIsConstant : n.levelIsConstant;\n              delete d.levelIsConstant;\n              delete d.level;\n              c = c.level + (g ? 0 : a - 1);\n              h(b[c]) ? k(b[c], d) : b[c] = d;\n            }\n\n            return b;\n          }, {}));\n          d = p(c.to) ? c.to : 1;\n\n          for (c = 0; c <= d; c++) b[c] = f({}, n, h(g[c]) ? g[c] : {});\n        }\n\n        return b;\n      },\n      setTreeValues: function J(b, a) {\n        var d = a.before,\n            f = a.idRoot,\n            g = a.mapIdToNode[f],\n            h = a.points[b.i],\n            l = h && h.options || {},\n            m = 0,\n            w = [];\n        k(b, {\n          levelDynamic: b.level - ((\"boolean\" === typeof a.levelIsConstant ? a.levelIsConstant : 1) ? 0 : g.level),\n          name: n(h && h.name, \"\"),\n          visible: f === b.id || (\"boolean\" === typeof a.visible ? a.visible : !1)\n        });\n        \"function\" === typeof d && (b = d(b, a));\n        b.children.forEach(function (d, e) {\n          var u = k({}, a);\n          k(u, {\n            index: e,\n            siblings: b.children.length,\n            visible: b.visible\n          });\n          d = J(d, u);\n          w.push(d);\n          d.visible && (m += d.val);\n        });\n        b.visible = 0 < m || b.visible;\n        d = n(l.value, m);\n        k(b, {\n          children: w,\n          childrenTotal: m,\n          isLeaf: b.visible && !m,\n          val: d\n        });\n        return b;\n      },\n      updateRootId: function (b) {\n        if (h(b)) {\n          var a = h(b.options) ? b.options : {};\n          a = n(b.rootNode, a.rootId, \"\");\n          h(b.userOptions) && (b.userOptions.rootId = a);\n          b.rootNode = a;\n        }\n\n        return a;\n      }\n    };\n  });\n  r(d, \"Series/Sankey/SankeySeries.js\", [d[\"Core/Color/Color.js\"], d[\"Core/Globals.js\"], d[\"Mixins/Nodes.js\"], d[\"Series/Sankey/SankeyPoint.js\"], d[\"Core/Series/SeriesRegistry.js\"], d[\"Mixins/TreeSeries.js\"], d[\"Core/Utilities.js\"]], function (d, g, k, l, p, h, f) {\n    var n = this && this.__extends || function () {\n      var a = function (b, e) {\n        a = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (a, e) {\n          a.__proto__ = e;\n        } || function (a, e) {\n          for (var b in e) e.hasOwnProperty(b) && (a[b] = e[b]);\n        };\n\n        return a(b, e);\n      };\n\n      return function (b, e) {\n        function c() {\n          this.constructor = b;\n        }\n\n        a(b, e);\n        b.prototype = null === e ? Object.create(e) : (c.prototype = e.prototype, new c());\n      };\n    }(),\n        c = p.series,\n        b = p.seriesTypes.column,\n        a = h.getLevelOptions,\n        r = f.defined;\n\n    h = f.extend;\n    var K = f.find,\n        z = f.isObject,\n        A = f.merge,\n        q = f.pick,\n        B = f.relativeLength,\n        m = f.stableSort;\n\n    f = function (c) {\n      function f() {\n        var e = null !== c && c.apply(this, arguments) || this;\n        e.colDistance = void 0;\n        e.data = void 0;\n        e.group = void 0;\n        e.nodeLookup = void 0;\n        e.nodePadding = void 0;\n        e.nodes = void 0;\n        e.nodeWidth = void 0;\n        e.options = void 0;\n        e.points = void 0;\n        e.translationFactor = void 0;\n        return e;\n      }\n\n      n(f, c);\n\n      f.getDLOptions = function (e) {\n        var a = z(e.optionsPoint) ? e.optionsPoint.dataLabels : {};\n        e = z(e.level) ? e.level.dataLabels : {};\n        return A({\n          style: {}\n        }, e, a);\n      };\n\n      f.prototype.createNodeColumn = function () {\n        var a = this,\n            b = this.chart,\n            c = [];\n\n        c.sum = function () {\n          return this.reduce(function (a, e) {\n            return a + e.getSum();\n          }, 0);\n        };\n\n        c.offset = function (e, b) {\n          for (var d = 0, f, u = a.nodePadding, y = 0; y < c.length; y++) {\n            f = c[y].getSum();\n            var L = Math.max(f * b, a.options.minLinkWidth);\n            f = f ? L + u : 0;\n            if (c[y] === e) return {\n              relativeTop: d + B(e.options.offset || 0, f)\n            };\n            d += f;\n          }\n        };\n\n        c.top = function (e) {\n          var c = a.nodePadding,\n              d = this.reduce(function (b, d) {\n            0 < b && (b += c);\n            d = Math.max(d.getSum() * e, a.options.minLinkWidth);\n            return b + d;\n          }, 0);\n          return (b.plotSizeY - d) / 2;\n        };\n\n        return c;\n      };\n\n      f.prototype.createNodeColumns = function () {\n        var a = [];\n        this.nodes.forEach(function (e) {\n          var b = -1,\n              c;\n          if (!r(e.options.column)) if (0 === e.linksTo.length) e.column = 0;else {\n            for (c = 0; c < e.linksTo.length; c++) {\n              var d = e.linksTo[0];\n\n              if (d.fromNode.column > b) {\n                var f = d.fromNode;\n                b = f.column;\n              }\n            }\n\n            e.column = b + 1;\n            f && \"hanging\" === f.options.layout && (e.hangsFrom = f, c = -1, K(f.linksFrom, function (a, b) {\n              (a = a.toNode === e) && (c = b);\n              return a;\n            }), e.column += c);\n          }\n          a[e.column] || (a[e.column] = this.createNodeColumn());\n          a[e.column].push(e);\n        }, this);\n\n        for (var b = 0; b < a.length; b++) \"undefined\" === typeof a[b] && (a[b] = this.createNodeColumn());\n\n        return a;\n      };\n\n      f.prototype.generatePoints = function () {\n        function a(e, b) {\n          \"undefined\" === typeof e.level && (e.level = b, e.linksFrom.forEach(function (e) {\n            e.toNode && a(e.toNode, b + 1);\n          }));\n        }\n\n        k.generatePoints.apply(this, arguments);\n        this.orderNodes && (this.nodes.filter(function (a) {\n          return 0 === a.linksTo.length;\n        }).forEach(function (e) {\n          a(e, 0);\n        }), m(this.nodes, function (a, e) {\n          return a.level - e.level;\n        }));\n      };\n\n      f.prototype.getNodePadding = function () {\n        var a = this.options.nodePadding || 0;\n\n        if (this.nodeColumns) {\n          var b = this.nodeColumns.reduce(function (a, e) {\n            return Math.max(a, e.length);\n          }, 0);\n          b * a > this.chart.plotSizeY && (a = this.chart.plotSizeY / b);\n        }\n\n        return a;\n      };\n\n      f.prototype.hasData = function () {\n        return !!this.processedXData.length;\n      };\n\n      f.prototype.pointAttribs = function (a, b) {\n        if (!a) return {};\n        var e = this,\n            c = e.mapOptionsToLevel[(a.isNode ? a.level : a.fromNode.level) || 0] || {},\n            f = a.options,\n            u = c.states && c.states[b || \"\"] || {};\n        b = [\"colorByPoint\", \"borderColor\", \"borderWidth\", \"linkOpacity\"].reduce(function (a, b) {\n          a[b] = q(u[b], f[b], c[b], e.options[b]);\n          return a;\n        }, {});\n        var v = q(u.color, f.color, b.colorByPoint ? a.color : c.color);\n        return a.isNode ? {\n          fill: v,\n          stroke: b.borderColor,\n          \"stroke-width\": b.borderWidth\n        } : {\n          fill: d.parse(v).setOpacity(b.linkOpacity).get()\n        };\n      };\n\n      f.prototype.render = function () {\n        var a = this.points;\n        this.points = this.points.concat(this.nodes || []);\n        b.prototype.render.call(this);\n        this.points = a;\n      };\n\n      f.prototype.translate = function () {\n        var b = this,\n            c = function (a) {\n          for (var e = a.slice(), c = b.options.minLinkWidth || 0, v, u = 0, k, h = f.plotSizeY - g.borderWidth - (a.length - 1) * d.nodePadding; a.length;) {\n            u = h / a.sum();\n            v = !1;\n\n            for (k = a.length; k--;) a[k].getSum() * u < c && (a.splice(k, 1), h -= c, v = !0);\n\n            if (!v) break;\n          }\n\n          a.length = 0;\n          e.forEach(function (b) {\n            return a.push(b);\n          });\n          return u;\n        };\n\n        this.processedXData || this.processData();\n        this.generatePoints();\n        this.nodeColumns = this.createNodeColumns();\n        this.nodeWidth = B(this.options.nodeWidth, this.chart.plotSizeX);\n        var d = this,\n            f = this.chart,\n            g = this.options,\n            k = this.nodeWidth,\n            v = this.nodeColumns;\n        this.nodePadding = this.getNodePadding();\n        this.translationFactor = v.reduce(function (a, b) {\n          return Math.min(a, c(b));\n        }, Infinity);\n        this.colDistance = (f.plotSizeX - k - g.borderWidth) / Math.max(1, v.length - 1);\n        d.mapOptionsToLevel = a({\n          from: 1,\n          levels: g.levels,\n          to: v.length - 1,\n          defaults: {\n            borderColor: g.borderColor,\n            borderRadius: g.borderRadius,\n            borderWidth: g.borderWidth,\n            color: d.color,\n            colorByPoint: g.colorByPoint,\n            levelIsConstant: !0,\n            linkColor: g.linkColor,\n            linkLineWidth: g.linkLineWidth,\n            linkOpacity: g.linkOpacity,\n            states: g.states\n          }\n        });\n        v.forEach(function (a) {\n          a.forEach(function (b) {\n            d.translateNode(b, a);\n          });\n        }, this);\n        this.nodes.forEach(function (a) {\n          a.linksFrom.forEach(function (a) {\n            (a.weight || a.isNull) && a.to && (d.translateLink(a), a.allowShadow = !1);\n          });\n        });\n      };\n\n      f.prototype.translateLink = function (a) {\n        var b = function (b, e) {\n          var c;\n          e = b.offset(a, e) * f;\n          return Math.min(b.nodeY + e, b.nodeY + (null === (c = b.shapeArgs) || void 0 === c ? void 0 : c.height) - g);\n        },\n            c = a.fromNode,\n            e = a.toNode,\n            d = this.chart,\n            f = this.translationFactor,\n            g = Math.max(a.weight * f, this.options.minLinkWidth),\n            k = (d.inverted ? -this.colDistance : this.colDistance) * this.options.curveFactor,\n            h = b(c, \"linksFrom\");\n\n        b = b(e, \"linksTo\");\n        var l = c.nodeX,\n            m = this.nodeWidth;\n        e = e.column * this.colDistance;\n        var n = a.outgoing,\n            p = e > l + m;\n        d.inverted && (h = d.plotSizeY - h, b = (d.plotSizeY || 0) - b, e = d.plotSizeX - e, m = -m, g = -g, p = l > e);\n        a.shapeType = \"path\";\n        a.linkBase = [h, h + g, b, b + g];\n        if (p && \"number\" === typeof b) a.shapeArgs = {\n          d: [[\"M\", l + m, h], [\"C\", l + m + k, h, e - k, b, e, b], [\"L\", e + (n ? m : 0), b + g / 2], [\"L\", e, b + g], [\"C\", e - k, b + g, l + m + k, h + g, l + m, h + g], [\"Z\"]]\n        };else if (\"number\" === typeof b) {\n          k = e - 20 - g;\n          n = e - 20;\n          p = e;\n          var r = l + m,\n              q = r + 20,\n              t = q + g,\n              w = h,\n              C = h + g,\n              G = C + 20,\n              D = G + (d.plotHeight - h - g),\n              x = D + 20,\n              F = x + g,\n              H = b,\n              E = H + g,\n              z = E + 20,\n              A = x + .7 * g,\n              B = p - .7 * g,\n              I = r + .7 * g;\n          a.shapeArgs = {\n            d: [[\"M\", r, w], [\"C\", I, w, t, C - .7 * g, t, G], [\"L\", t, D], [\"C\", t, A, I, F, r, F], [\"L\", p, F], [\"C\", B, F, k, A, k, D], [\"L\", k, z], [\"C\", k, E - .7 * g, B, H, p, H], [\"L\", p, E], [\"C\", n, E, n, E, n, z], [\"L\", n, D], [\"C\", n, x, n, x, p, x], [\"L\", r, x], [\"C\", q, x, q, x, q, D], [\"L\", q, G], [\"C\", q, C, q, C, r, C], [\"Z\"]]\n          };\n        }\n        a.dlBox = {\n          x: l + (e - l + m) / 2,\n          y: h + (b - h) / 2,\n          height: g,\n          width: 0\n        };\n        a.tooltipPos = d.inverted ? [d.plotSizeY - a.dlBox.y - g / 2, d.plotSizeX - a.dlBox.x] : [a.dlBox.x, a.dlBox.y + g / 2];\n        a.y = a.plotY = 1;\n        a.color || (a.color = c.color);\n      };\n\n      f.prototype.translateNode = function (a, b) {\n        var c = this.translationFactor,\n            d = this.chart,\n            e = this.options,\n            g = a.getSum(),\n            k = Math.max(Math.round(g * c), this.options.minLinkWidth),\n            h = Math.round(e.borderWidth) % 2 / 2,\n            l = b.offset(a, c);\n        b = Math.floor(q(l.absoluteTop, b.top(c) + l.relativeTop)) + h;\n        h = Math.floor(this.colDistance * a.column + e.borderWidth / 2) + h;\n        h = d.inverted ? d.plotSizeX - h : h;\n        c = Math.round(this.nodeWidth);\n        (a.sum = g) ? (a.shapeType = \"rect\", a.nodeX = h, a.nodeY = b, a.shapeArgs = d.inverted ? {\n          x: h - c,\n          y: d.plotSizeY - b - k,\n          width: a.options.height || e.height || c,\n          height: a.options.width || e.width || k\n        } : {\n          x: h,\n          y: b,\n          width: a.options.width || e.width || c,\n          height: a.options.height || e.height || k\n        }, a.shapeArgs.display = a.hasShape() ? \"\" : \"none\", a.dlOptions = f.getDLOptions({\n          level: this.mapOptionsToLevel[a.level],\n          optionsPoint: a.options\n        }), a.plotY = 1, a.tooltipPos = d.inverted ? [d.plotSizeY - a.shapeArgs.y - a.shapeArgs.height / 2, d.plotSizeX - a.shapeArgs.x - a.shapeArgs.width / 2] : [a.shapeArgs.x + a.shapeArgs.width / 2, a.shapeArgs.y + a.shapeArgs.height / 2]) : a.dlOptions = {\n          enabled: !1\n        };\n      };\n\n      f.defaultOptions = A(b.defaultOptions, {\n        borderWidth: 0,\n        colorByPoint: !0,\n        curveFactor: .33,\n        dataLabels: {\n          enabled: !0,\n          backgroundColor: \"none\",\n          crop: !1,\n          nodeFormat: void 0,\n          nodeFormatter: function () {\n            return this.point.name;\n          },\n          format: void 0,\n          formatter: function () {},\n          inside: !0\n        },\n        inactiveOtherPoints: !0,\n        linkOpacity: .5,\n        minLinkWidth: 0,\n        nodeWidth: 20,\n        nodePadding: 10,\n        showInLegend: !1,\n        states: {\n          hover: {\n            linkOpacity: 1\n          },\n          inactive: {\n            linkOpacity: .1,\n            opacity: .1,\n            animation: {\n              duration: 50\n            }\n          }\n        },\n        tooltip: {\n          followPointer: !0,\n          headerFormat: '<span style=\"font-size: 10px\">{series.name}</span><br/>',\n          pointFormat: \"{point.fromNode.name} \\u2192 {point.toNode.name}: <b>{point.weight}</b><br/>\",\n          nodeFormat: \"{point.name}: <b>{point.sum}</b><br/>\"\n        }\n      });\n      return f;\n    }(b);\n\n    h(f.prototype, {\n      animate: c.prototype.animate,\n      createNode: k.createNode,\n      destroy: k.destroy,\n      forceDL: !0,\n      invertible: !0,\n      isCartesian: !1,\n      orderNodes: !0,\n      pointArrayMap: [\"from\", \"to\"],\n      pointClass: l,\n      searchPoint: g.noop,\n      setData: k.setData\n    });\n    p.registerSeriesType(\"sankey\", f);\n    \"\";\n    \"\";\n    return f;\n  });\n  r(d, \"masters/modules/sankey.src.js\", [], function () {});\n});","map":{"version":3,"sources":["sankey.src.js"],"names":["module","factory","define","Highcharts","undefined","_modules","_registerModule","obj","fn","defined","U","extend","find","pick","H","createNode","findById","node","PointClass","init","className","isNode","id","y","node.getSum","sumTo","sumFrom","link","Math","node.offset","offset","i","node.hasShape","outgoing","generatePoints","chart","nodeLookup","Series","point","setData","destroy","setNodeState","args","others","linkOrNode","Point","__extends","extendStatics","Object","__proto__","d","p","b","__","SeriesRegistry","SankeyPoint","_this","_super","SankeyPoint.prototype.applyOptions","SankeyPoint.prototype.getClassName","SankeyPoint.prototype.isValid","prototype","setState","NodesMixin","isArray","isNumber","isObject","merge","setTreeValues","before","options","idRoot","nodeRoot","levelIsConstant","tree","optionsPoint","childrenTotal","children","levelDynamic","name","visible","newOptions","index","siblings","child","value","isLeaf","val","getColor","mapOptionsToLevel","parentColor","parentColorIndex","series","colors","points","chartOptionsChart","color","colorVariation","level","Color","getColorByPoint","colorIndex","getLevelOptions","result","params","converted","item","defaults","from","to","updateRootId","rootId","ColumnSeries","TreeSeriesMixin","relativeLength","stableSort","SankeySeries","SankeySeries.getDLOptions","optionsLevel","style","SankeySeries.prototype.createNodeColumn","column","column.sum","sum","column.offset","nodePadding","height","totalNodeOffset","relativeTop","column.top","nodeHeight","SankeySeries.prototype.createNodeColumns","columns","fromColumn","fromNode","found","SankeySeries.prototype.generatePoints","order","a","SankeySeries.prototype.getNodePadding","maxLength","col","SankeySeries.prototype.hasData","SankeySeries.prototype.pointAttribs","levelOptions","stateOptions","state","values","fill","stroke","SankeySeries.prototype.render","SankeySeries.prototype.translate","getColumnTranslationFactor","nodes","minLinkWidth","factor","remainingHeight","exceedsMinLinkWidth","nodeWidth","nodeColumns","levels","borderColor","borderRadius","borderWidth","colorByPoint","linkColor","linkLineWidth","linkOpacity","states","linkPoint","SankeySeries.prototype.translateLink","getY","_a","linkTop","translationFactor","toNode","linkHeight","curvy","fromY","toY","nodeLeft","nodeW","right","straight","bend","x1","x2","x3","x4","x5","x6","fy1","fy2","fy3","y4","y5","y6","ty1","ty2","ty3","cy2","cx1","cx2","x","width","SankeySeries.prototype.translateNode","crisp","nodeOffset","fromNodeTop","left","enabled","curveFactor","dataLabels","backgroundColor","crop","nodeFormat","nodeFormatter","format","formatter","inside","inactiveOtherPoints","showInLegend","hover","inactive","opacity","animation","duration","tooltip","followPointer","headerFormat","pointFormat","animate","forceDL","invertible","isCartesian","orderNodes","pointArrayMap","pointClass","searchPoint"],"mappings":"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","sourcesContent":["/*\n Highcharts JS v9.0.1 (2021-02-15)\n\n Sankey diagram module\n\n (c) 2010-2021 Torstein Honsi\n\n License: www.highcharts.com/license\n*/\n(function(d){\"object\"===typeof module&&module.exports?(d[\"default\"]=d,module.exports=d):\"function\"===typeof define&&define.amd?define(\"highcharts/modules/sankey\",[\"highcharts\"],function(r){d(r);d.Highcharts=r;return d}):d(\"undefined\"!==typeof Highcharts?Highcharts:void 0)})(function(d){function r(d,g,k,l){d.hasOwnProperty(g)||(d[g]=l.apply(null,k))}d=d?d._modules:{};r(d,\"Mixins/Nodes.js\",[d[\"Core/Globals.js\"],d[\"Core/Series/Point.js\"],d[\"Core/Series/Series.js\"],d[\"Core/Utilities.js\"]],function(d,\ng,k,l){var p=l.defined,h=l.extend,f=l.find,n=l.pick;return d.NodesMixin={createNode:function(c){function b(a,b){return f(a,function(a){return a.id===b})}var a=b(this.nodes,c),d=this.pointClass;if(!a){var k=this.options.nodes&&b(this.options.nodes,c);a=(new d).init(this,h({className:\"highcharts-node\",isNode:!0,id:c,y:1},k));a.linksTo=[];a.linksFrom=[];a.formatPrefix=\"node\";a.name=a.name||a.options.id||\"\";a.mass=n(a.options.mass,a.options.marker&&a.options.marker.radius,this.options.marker&&this.options.marker.radius,\n4);a.getSum=function(){var b=0,c=0;a.linksTo.forEach(function(a){b+=a.weight});a.linksFrom.forEach(function(a){c+=a.weight});return Math.max(b,c)};a.offset=function(b,c){for(var d=0,f=0;f<a[c].length;f++){if(a[c][f]===b)return d;d+=a[c][f].weight}};a.hasShape=function(){var b=0;a.linksTo.forEach(function(a){a.outgoing&&b++});return!a.linksTo.length||b!==a.linksTo.length};this.nodes.push(a)}return a},generatePoints:function(){var c=this.chart,b={};k.prototype.generatePoints.call(this);this.nodes||\n(this.nodes=[]);this.colorCounter=0;this.nodes.forEach(function(a){a.linksFrom.length=0;a.linksTo.length=0;a.level=a.options.level});this.points.forEach(function(a){p(a.from)&&(b[a.from]||(b[a.from]=this.createNode(a.from)),b[a.from].linksFrom.push(a),a.fromNode=b[a.from],c.styledMode?a.colorIndex=n(a.options.colorIndex,b[a.from].colorIndex):a.color=a.options.color||b[a.from].color);p(a.to)&&(b[a.to]||(b[a.to]=this.createNode(a.to)),b[a.to].linksTo.push(a),a.toNode=b[a.to]);a.name=a.name||a.id},this);\nthis.nodeLookup=b},setData:function(){this.nodes&&(this.nodes.forEach(function(c){c.destroy()}),this.nodes.length=0);k.prototype.setData.apply(this,arguments)},destroy:function(){this.data=[].concat(this.points||[],this.nodes);return k.prototype.destroy.apply(this,arguments)},setNodeState:function(c){var b=arguments,a=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];\"select\"!==c&&a.forEach(function(a){a&&a.series&&(g.prototype.setState.apply(a,b),a.isNode||(a.fromNode.graphic&&\ng.prototype.setState.apply(a.fromNode,b),a.toNode&&a.toNode.graphic&&g.prototype.setState.apply(a.toNode,b)))});g.prototype.setState.apply(this,b)}}});r(d,\"Series/Sankey/SankeyPoint.js\",[d[\"Mixins/Nodes.js\"],d[\"Core/Series/Point.js\"],d[\"Core/Series/SeriesRegistry.js\"],d[\"Core/Utilities.js\"]],function(d,g,k,l){var p=this&&this.__extends||function(){var d=function(f,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var c in a)a.hasOwnProperty(c)&&\n(b[c]=a[c])};return d(f,c)};return function(f,c){function b(){this.constructor=f}d(f,c);f.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}(),h=l.defined;l=l.extend;k=function(d){function f(){var c=null!==d&&d.apply(this,arguments)||this;c.className=void 0;c.fromNode=void 0;c.level=void 0;c.linkBase=void 0;c.linksFrom=void 0;c.linksTo=void 0;c.mass=void 0;c.nodeX=void 0;c.nodeY=void 0;c.options=void 0;c.series=void 0;c.toNode=void 0;return c}p(f,d);f.prototype.applyOptions=function(c,\nb){g.prototype.applyOptions.call(this,c,b);h(this.options.level)&&(this.options.column=this.column=this.options.level);return this};f.prototype.getClassName=function(){return(this.isNode?\"highcharts-node \":\"highcharts-link \")+g.prototype.getClassName.call(this)};f.prototype.isValid=function(){return this.isNode||\"number\"===typeof this.weight};return f}(k.seriesTypes.column.prototype.pointClass);l(k.prototype,{setState:d.setNodeState});return k});r(d,\"Mixins/TreeSeries.js\",[d[\"Core/Color/Color.js\"],\nd[\"Core/Utilities.js\"]],function(d,g){var k=g.extend,l=g.isArray,p=g.isNumber,h=g.isObject,f=g.merge,n=g.pick;return{getColor:function(c,b){var a=b.index,f=b.mapOptionsToLevel,k=b.parentColor,g=b.parentColorIndex,h=b.series,q=b.colors,l=b.siblings,m=h.points,w=h.chart.options.chart,t;if(c){m=m[c.i];c=f[c.level]||{};if(f=m&&c.colorByPoint){var e=m.index%(q?q.length:w.colorCount);var u=q&&q[e]}if(!h.chart.styledMode){q=m&&m.options.color;w=c&&c.color;if(t=k)t=(t=c&&c.colorVariation)&&\"brightness\"===\nt.key?d.parse(k).brighten(a/l*t.to).get():k;t=n(q,w,u,t,h.color)}var y=n(m&&m.options.colorIndex,c&&c.colorIndex,e,g,b.colorIndex)}return{color:t,colorIndex:y}},getLevelOptions:function(c){var b=null;if(h(c)){b={};var a=p(c.from)?c.from:1;var d=c.levels;var g={};var n=h(c.defaults)?c.defaults:{};l(d)&&(g=d.reduce(function(b,c){if(h(c)&&p(c.level)){var d=f({},c);var g=\"boolean\"===typeof d.levelIsConstant?d.levelIsConstant:n.levelIsConstant;delete d.levelIsConstant;delete d.level;c=c.level+(g?0:a-1);\nh(b[c])?k(b[c],d):b[c]=d}return b},{}));d=p(c.to)?c.to:1;for(c=0;c<=d;c++)b[c]=f({},n,h(g[c])?g[c]:{})}return b},setTreeValues:function J(b,a){var d=a.before,f=a.idRoot,g=a.mapIdToNode[f],h=a.points[b.i],l=h&&h.options||{},m=0,w=[];k(b,{levelDynamic:b.level-((\"boolean\"===typeof a.levelIsConstant?a.levelIsConstant:1)?0:g.level),name:n(h&&h.name,\"\"),visible:f===b.id||(\"boolean\"===typeof a.visible?a.visible:!1)});\"function\"===typeof d&&(b=d(b,a));b.children.forEach(function(d,e){var u=k({},a);k(u,{index:e,\nsiblings:b.children.length,visible:b.visible});d=J(d,u);w.push(d);d.visible&&(m+=d.val)});b.visible=0<m||b.visible;d=n(l.value,m);k(b,{children:w,childrenTotal:m,isLeaf:b.visible&&!m,val:d});return b},updateRootId:function(b){if(h(b)){var a=h(b.options)?b.options:{};a=n(b.rootNode,a.rootId,\"\");h(b.userOptions)&&(b.userOptions.rootId=a);b.rootNode=a}return a}}});r(d,\"Series/Sankey/SankeySeries.js\",[d[\"Core/Color/Color.js\"],d[\"Core/Globals.js\"],d[\"Mixins/Nodes.js\"],d[\"Series/Sankey/SankeyPoint.js\"],\nd[\"Core/Series/SeriesRegistry.js\"],d[\"Mixins/TreeSeries.js\"],d[\"Core/Utilities.js\"]],function(d,g,k,l,p,h,f){var n=this&&this.__extends||function(){var a=function(b,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var b in e)e.hasOwnProperty(b)&&(a[b]=e[b])};return a(b,e)};return function(b,e){function c(){this.constructor=b}a(b,e);b.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)}}(),c=p.series,b=p.seriesTypes.column,\na=h.getLevelOptions,r=f.defined;h=f.extend;var K=f.find,z=f.isObject,A=f.merge,q=f.pick,B=f.relativeLength,m=f.stableSort;f=function(c){function f(){var e=null!==c&&c.apply(this,arguments)||this;e.colDistance=void 0;e.data=void 0;e.group=void 0;e.nodeLookup=void 0;e.nodePadding=void 0;e.nodes=void 0;e.nodeWidth=void 0;e.options=void 0;e.points=void 0;e.translationFactor=void 0;return e}n(f,c);f.getDLOptions=function(e){var a=z(e.optionsPoint)?e.optionsPoint.dataLabels:{};e=z(e.level)?e.level.dataLabels:\n{};return A({style:{}},e,a)};f.prototype.createNodeColumn=function(){var a=this,b=this.chart,c=[];c.sum=function(){return this.reduce(function(a,e){return a+e.getSum()},0)};c.offset=function(e,b){for(var d=0,f,u=a.nodePadding,y=0;y<c.length;y++){f=c[y].getSum();var L=Math.max(f*b,a.options.minLinkWidth);f=f?L+u:0;if(c[y]===e)return{relativeTop:d+B(e.options.offset||0,f)};d+=f}};c.top=function(e){var c=a.nodePadding,d=this.reduce(function(b,d){0<b&&(b+=c);d=Math.max(d.getSum()*e,a.options.minLinkWidth);\nreturn b+d},0);return(b.plotSizeY-d)/2};return c};f.prototype.createNodeColumns=function(){var a=[];this.nodes.forEach(function(e){var b=-1,c;if(!r(e.options.column))if(0===e.linksTo.length)e.column=0;else{for(c=0;c<e.linksTo.length;c++){var d=e.linksTo[0];if(d.fromNode.column>b){var f=d.fromNode;b=f.column}}e.column=b+1;f&&\"hanging\"===f.options.layout&&(e.hangsFrom=f,c=-1,K(f.linksFrom,function(a,b){(a=a.toNode===e)&&(c=b);return a}),e.column+=c)}a[e.column]||(a[e.column]=this.createNodeColumn());\na[e.column].push(e)},this);for(var b=0;b<a.length;b++)\"undefined\"===typeof a[b]&&(a[b]=this.createNodeColumn());return a};f.prototype.generatePoints=function(){function a(e,b){\"undefined\"===typeof e.level&&(e.level=b,e.linksFrom.forEach(function(e){e.toNode&&a(e.toNode,b+1)}))}k.generatePoints.apply(this,arguments);this.orderNodes&&(this.nodes.filter(function(a){return 0===a.linksTo.length}).forEach(function(e){a(e,0)}),m(this.nodes,function(a,e){return a.level-e.level}))};f.prototype.getNodePadding=\nfunction(){var a=this.options.nodePadding||0;if(this.nodeColumns){var b=this.nodeColumns.reduce(function(a,e){return Math.max(a,e.length)},0);b*a>this.chart.plotSizeY&&(a=this.chart.plotSizeY/b)}return a};f.prototype.hasData=function(){return!!this.processedXData.length};f.prototype.pointAttribs=function(a,b){if(!a)return{};var e=this,c=e.mapOptionsToLevel[(a.isNode?a.level:a.fromNode.level)||0]||{},f=a.options,u=c.states&&c.states[b||\"\"]||{};b=[\"colorByPoint\",\"borderColor\",\"borderWidth\",\"linkOpacity\"].reduce(function(a,\nb){a[b]=q(u[b],f[b],c[b],e.options[b]);return a},{});var v=q(u.color,f.color,b.colorByPoint?a.color:c.color);return a.isNode?{fill:v,stroke:b.borderColor,\"stroke-width\":b.borderWidth}:{fill:d.parse(v).setOpacity(b.linkOpacity).get()}};f.prototype.render=function(){var a=this.points;this.points=this.points.concat(this.nodes||[]);b.prototype.render.call(this);this.points=a};f.prototype.translate=function(){var b=this,c=function(a){for(var e=a.slice(),c=b.options.minLinkWidth||0,v,u=0,k,h=f.plotSizeY-\ng.borderWidth-(a.length-1)*d.nodePadding;a.length;){u=h/a.sum();v=!1;for(k=a.length;k--;)a[k].getSum()*u<c&&(a.splice(k,1),h-=c,v=!0);if(!v)break}a.length=0;e.forEach(function(b){return a.push(b)});return u};this.processedXData||this.processData();this.generatePoints();this.nodeColumns=this.createNodeColumns();this.nodeWidth=B(this.options.nodeWidth,this.chart.plotSizeX);var d=this,f=this.chart,g=this.options,k=this.nodeWidth,v=this.nodeColumns;this.nodePadding=this.getNodePadding();this.translationFactor=\nv.reduce(function(a,b){return Math.min(a,c(b))},Infinity);this.colDistance=(f.plotSizeX-k-g.borderWidth)/Math.max(1,v.length-1);d.mapOptionsToLevel=a({from:1,levels:g.levels,to:v.length-1,defaults:{borderColor:g.borderColor,borderRadius:g.borderRadius,borderWidth:g.borderWidth,color:d.color,colorByPoint:g.colorByPoint,levelIsConstant:!0,linkColor:g.linkColor,linkLineWidth:g.linkLineWidth,linkOpacity:g.linkOpacity,states:g.states}});v.forEach(function(a){a.forEach(function(b){d.translateNode(b,a)})},\nthis);this.nodes.forEach(function(a){a.linksFrom.forEach(function(a){(a.weight||a.isNull)&&a.to&&(d.translateLink(a),a.allowShadow=!1)})})};f.prototype.translateLink=function(a){var b=function(b,e){var c;e=b.offset(a,e)*f;return Math.min(b.nodeY+e,b.nodeY+(null===(c=b.shapeArgs)||void 0===c?void 0:c.height)-g)},c=a.fromNode,e=a.toNode,d=this.chart,f=this.translationFactor,g=Math.max(a.weight*f,this.options.minLinkWidth),k=(d.inverted?-this.colDistance:this.colDistance)*this.options.curveFactor,h=\nb(c,\"linksFrom\");b=b(e,\"linksTo\");var l=c.nodeX,m=this.nodeWidth;e=e.column*this.colDistance;var n=a.outgoing,p=e>l+m;d.inverted&&(h=d.plotSizeY-h,b=(d.plotSizeY||0)-b,e=d.plotSizeX-e,m=-m,g=-g,p=l>e);a.shapeType=\"path\";a.linkBase=[h,h+g,b,b+g];if(p&&\"number\"===typeof b)a.shapeArgs={d:[[\"M\",l+m,h],[\"C\",l+m+k,h,e-k,b,e,b],[\"L\",e+(n?m:0),b+g/2],[\"L\",e,b+g],[\"C\",e-k,b+g,l+m+k,h+g,l+m,h+g],[\"Z\"]]};else if(\"number\"===typeof b){k=e-20-g;n=e-20;p=e;var r=l+m,q=r+20,t=q+g,w=h,C=h+g,G=C+20,D=G+(d.plotHeight-\nh-g),x=D+20,F=x+g,H=b,E=H+g,z=E+20,A=x+.7*g,B=p-.7*g,I=r+.7*g;a.shapeArgs={d:[[\"M\",r,w],[\"C\",I,w,t,C-.7*g,t,G],[\"L\",t,D],[\"C\",t,A,I,F,r,F],[\"L\",p,F],[\"C\",B,F,k,A,k,D],[\"L\",k,z],[\"C\",k,E-.7*g,B,H,p,H],[\"L\",p,E],[\"C\",n,E,n,E,n,z],[\"L\",n,D],[\"C\",n,x,n,x,p,x],[\"L\",r,x],[\"C\",q,x,q,x,q,D],[\"L\",q,G],[\"C\",q,C,q,C,r,C],[\"Z\"]]}}a.dlBox={x:l+(e-l+m)/2,y:h+(b-h)/2,height:g,width:0};a.tooltipPos=d.inverted?[d.plotSizeY-a.dlBox.y-g/2,d.plotSizeX-a.dlBox.x]:[a.dlBox.x,a.dlBox.y+g/2];a.y=a.plotY=1;a.color||(a.color=\nc.color)};f.prototype.translateNode=function(a,b){var c=this.translationFactor,d=this.chart,e=this.options,g=a.getSum(),k=Math.max(Math.round(g*c),this.options.minLinkWidth),h=Math.round(e.borderWidth)%2/2,l=b.offset(a,c);b=Math.floor(q(l.absoluteTop,b.top(c)+l.relativeTop))+h;h=Math.floor(this.colDistance*a.column+e.borderWidth/2)+h;h=d.inverted?d.plotSizeX-h:h;c=Math.round(this.nodeWidth);(a.sum=g)?(a.shapeType=\"rect\",a.nodeX=h,a.nodeY=b,a.shapeArgs=d.inverted?{x:h-c,y:d.plotSizeY-b-k,width:a.options.height||\ne.height||c,height:a.options.width||e.width||k}:{x:h,y:b,width:a.options.width||e.width||c,height:a.options.height||e.height||k},a.shapeArgs.display=a.hasShape()?\"\":\"none\",a.dlOptions=f.getDLOptions({level:this.mapOptionsToLevel[a.level],optionsPoint:a.options}),a.plotY=1,a.tooltipPos=d.inverted?[d.plotSizeY-a.shapeArgs.y-a.shapeArgs.height/2,d.plotSizeX-a.shapeArgs.x-a.shapeArgs.width/2]:[a.shapeArgs.x+a.shapeArgs.width/2,a.shapeArgs.y+a.shapeArgs.height/2]):a.dlOptions={enabled:!1}};f.defaultOptions=\nA(b.defaultOptions,{borderWidth:0,colorByPoint:!0,curveFactor:.33,dataLabels:{enabled:!0,backgroundColor:\"none\",crop:!1,nodeFormat:void 0,nodeFormatter:function(){return this.point.name},format:void 0,formatter:function(){},inside:!0},inactiveOtherPoints:!0,linkOpacity:.5,minLinkWidth:0,nodeWidth:20,nodePadding:10,showInLegend:!1,states:{hover:{linkOpacity:1},inactive:{linkOpacity:.1,opacity:.1,animation:{duration:50}}},tooltip:{followPointer:!0,headerFormat:'<span style=\"font-size: 10px\">{series.name}</span><br/>',\npointFormat:\"{point.fromNode.name} \\u2192 {point.toNode.name}: <b>{point.weight}</b><br/>\",nodeFormat:\"{point.name}: <b>{point.sum}</b><br/>\"}});return f}(b);h(f.prototype,{animate:c.prototype.animate,createNode:k.createNode,destroy:k.destroy,forceDL:!0,invertible:!0,isCartesian:!1,orderNodes:!0,pointArrayMap:[\"from\",\"to\"],pointClass:l,searchPoint:g.noop,setData:k.setData});p.registerSeriesType(\"sankey\",f);\"\";\"\";return f});r(d,\"masters/modules/sankey.src.js\",[],function(){})});\n//# sourceMappingURL=sankey.js.map"]},"metadata":{},"sourceType":"script"}